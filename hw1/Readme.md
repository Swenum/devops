### HW1

1. Найти топ 7 директорий на сервере, которые больше всего занимают память и записать их в файл.


```bash

#!/bin/bash


output_file="top_directories.txt"

# Получаем топ-7 директорий, занимающих больше всего места
du -ah / | sort -rh | head -n 7 > "$output_file"


echo "Топ-7 директорий, занимающих больше всего места, записан в файл $output_file"

```

2. Создать пользователя и добавить его в группу sudo.

```bash
USER='u.schuka'
useradd -m "$USER"
mkdir -p /home/"$USER"/.ssh
# Добавляем ключ в файл authorized_keys
echo "ssh-ed448 AAAACXNzaC1lZDQ0OAAAADlL4ph5NNzIe+vjO6E/NzfGkJXtAzhx7AJ4G/a6QiLp1K6CZdbeoTrVRCX0zcBOFdaxZaImZ/qmhQA= eddsa-key-my" >> /home/"$USER"/.ssh/authorized_keys
# Меняем владельца директории
chown "$USER":"$USER" /home/"$USER" -R
# Назначаем права, ограничивая доступ только владельцу
chmod 600 /home/"$USER"/.ssh/authorized_keys
chmod 700 /home/"$USER"/.ssh
# Добавляем в группу sudo
usermod -G sudo "$USER"
# Изменяем оболочку
usermod -s /bin/bash "$USER"
```


3. Изучить, что такое zombie процесс (спрашивают на собесах).
```
Процесс при завершении (как нормальном, так и в результате не обрабатываемого сигнала) освобождает все свои ресурсы и становится «зомби» — пустой записью в таблице процессов, хранящей статус завершения, предназначенный для чтения родительским процессом.

Зомби-процесс существует до тех пор, пока родительский процесс не прочитает его статус с помощью системного вызова wait(), в результате чего запись в таблице процессов будет освобождена.

При завершении процесса система уведомляет родительский процесс о завершении дочернего с помощью сигнала SIGCHLD, таким образом может быть удобно (но не обязательно) осуществлять вызов wait() в обработчике данного сигнала. 

Процесс-сирота (англ. orphan process) — в семействе операционных систем UNIX вспомогательный процесс, чей основной процесс (или связь с ним) был завершен нештатно (не подав сигнала на завершение работы).

Обычно «сиротой» остается дочерний процесс после неожиданного завершения родительского, но возможно возникновение сервера-сироты (локального или сетевого) при неожиданном прерывании связи или завершении клиентского процесса.

Процессы-сироты расходуют системные ресурсы сервера и могут быть источником проблем. Существует несколько их решений:

    Уничтожение (англ. extermination) заключается в завершении процесса (например, посылкой сигнала SIGTERM или SIGKILL), используется наиболее часто (особенно оператором, обслуживающим систему).
    Перевоплощение (англ. reincarnation) — система пытается «воскресить» родителей в состоянии на момент перед их удалением или найти других (например, более старших) родителей.
    Выдача лимита времени (англ. expiration) — процессу выдаётся временная квота для завершения до момента, когда он будет «убит» принудительно. Отметим, что процессу оставлена возможность запросить дополнительное время для завершения.

В Unix-подобных системах все процессы-сироты немедленно усыновляются специальным системным процессом «init». Эта операция ещё называется переподчинением (англ. reparenting) и происходит автоматически. Хотя технически процесс «init» признаётся родителем этого процесса, его всё равно считают «осиротевшим», поскольку первоначально создавший его процесс более не существует. 
```

4. Изучить, что показывает команда top.

```
Команда top в Unix-подобных операционных системах (например, Linux) показывает динамическую информацию о работающих процессах и общем состоянии системы в реальном времени. Вот что она отображает:

    Общая информация о системе:

        Время работы системы (uptime).

        Количество пользователей, подключенных к системе.

        Средняя загрузка системы за последние 1, 5 и 15 минут.

    Информация о задачах (процессах):

        Общее количество процессов.

        Количество запущенных, спящих, остановленных и зомби-процессов.

    Информация о использовании ресурсов:

        Использование процессора (CPU): процент времени, затраченного на выполнение пользовательских процессов, системных процессов, процессов с измененным приоритетом (nice), а также время простоя (idle).

        Использование оперативной памяти (RAM): общий объем, используемый объем, свободный объем, а также объем памяти, используемый для кэширования.

        Использование подкачки (swap): общий объем, используемый объем и свободный объем.

    Список процессов:

        PID (идентификатор процесса).

        Пользователь, от имени которого запущен процесс.

        Приоритет (PR) и значение nice (NI).

        Использование виртуальной памяти (VIRT), резидентной памяти (RES), разделяемой памяти (SHR).

        Процент использования процессора (%CPU) и памяти (%MEM).

        Время работы процесса (TIME+).

        Команда, запустившая процесс.

    Интерактивные команды:

        top позволяет управлять отображением и сортировкой процессов с помощью клавиш (например, P для сортировки по использованию CPU, M для сортировки по использованию памяти, k для завершения процесса и т.д.).
```

